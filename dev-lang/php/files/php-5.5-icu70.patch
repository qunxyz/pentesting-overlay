diff --color -uNr php-5.5.38-ori/ext/intl/breakiterator/codepointiterator_internal.cpp php-5.5.38/ext/intl/breakiterator/codepointiterator_internal.cpp
--- php-5.5.38-ori/ext/intl/breakiterator/codepointiterator_internal.cpp	2022-01-28 11:18:19.932304955 +0800
+++ php-5.5.38/ext/intl/breakiterator/codepointiterator_internal.cpp	2022-01-28 11:18:48.312306073 +0800
@@ -75,7 +75,7 @@
 	clearCurrentCharIter();
 }
 
-UBool CodePointBreakIterator::operator==(const BreakIterator& that) const
+bool CodePointBreakIterator::operator==(const BreakIterator& that) const
 {
 	if (typeid(*this) != typeid(that)) {
 		return FALSE;
diff --color -uNr php-5.5.38-ori/ext/intl/breakiterator/codepointiterator_internal.h php-5.5.38/ext/intl/breakiterator/codepointiterator_internal.h
--- php-5.5.38-ori/ext/intl/breakiterator/codepointiterator_internal.h	2022-01-28 11:18:19.932304955 +0800
+++ php-5.5.38/ext/intl/breakiterator/codepointiterator_internal.h	2022-01-28 11:18:55.768306367 +0800
@@ -36,7 +36,7 @@
 
 		virtual ~CodePointBreakIterator();
 
-		virtual UBool operator==(const BreakIterator& that) const;
+		virtual bool operator==(const BreakIterator& that) const;
 
 		virtual CodePointBreakIterator* clone(void) const;
 
diff --color -uNr php-5.5.38-ori/ext/intl/locale/locale_methods.c php-5.5.38/ext/intl/locale/locale_methods.c
--- php-5.5.38-ori/ext/intl/locale/locale_methods.c	2022-01-28 11:18:19.928304955 +0800
+++ php-5.5.38/ext/intl/locale/locale_methods.c	2022-01-28 11:19:19.612307307 +0800
@@ -1311,7 +1311,7 @@
 		if( token && (token==cur_lang_tag) ){
 			/* check if the char. after match is SEPARATOR */
 			chrcheck = token + (strlen(cur_loc_range));
-			if( isIDSeparator(*chrcheck) || isEndOfTag(*chrcheck) ){
+			if( isIDSeparator(*chrcheck) || isKeywordSeparator(*chrcheck) || isEndOfTag(*chrcheck) ){
 				if( cur_lang_tag){
 					efree( cur_lang_tag );
 				}
