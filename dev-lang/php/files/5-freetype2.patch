diff -uNr php-5.5.38-ori/ext/gd/config.m4 php-5.5.38/ext/gd/config.m4
--- php-5.5.38-ori/ext/gd/config.m4	2018-10-18 09:45:15.205093300 +0800
+++ php-5.5.38/ext/gd/config.m4	2018-10-18 15:10:35.904361013 +0800
@@ -184,20 +184,8 @@
 AC_DEFUN([PHP_GD_FREETYPE2],[
   if test "$PHP_FREETYPE_DIR" != "no"; then
 
-    for i in $PHP_FREETYPE_DIR /usr/local /usr; do
-      if test -f "$i/bin/freetype-config"; then
-        FREETYPE2_DIR=$i
-        FREETYPE2_CONFIG="$i/bin/freetype-config"
-        break
-      fi
-    done
-
-    if test -z "$FREETYPE2_DIR"; then
-      AC_MSG_ERROR([freetype-config not found.])
-    fi
-
-    FREETYPE2_CFLAGS=`$FREETYPE2_CONFIG --cflags`
-    FREETYPE2_LIBS=`$FREETYPE2_CONFIG --libs`
+    FREETYPE2_CFLAGS=`pkg-config freetype2 --cflags`
+    FREETYPE2_LIBS=`pkg-config freetype2 --libs`
 
     PHP_EVAL_INCLINE($FREETYPE2_CFLAGS)
     PHP_EVAL_LIBLINE($FREETYPE2_LIBS, GD_SHARED_LIBADD)
