diff --color -uNr systemd-stable-250.3-ori/src/resolve/resolved-etc-hosts.c systemd-stable-250.3/src/resolve/resolved-etc-hosts.c
--- systemd-stable-250.3-ori/src/resolve/resolved-etc-hosts.c	2022-02-04 09:08:13.599853023 +0800
+++ systemd-stable-250.3/src/resolve/resolved-etc-hosts.c	2022-02-04 09:09:52.687857141 +0800
@@ -109,7 +109,10 @@
 
                 r = dns_name_is_valid_ldh(name);
                 if (r <= 0) {
-                        log_warning_errno(r, "/etc/hosts:%u: hostname \"%s\" is not valid, ignoring.", nr, name);
+                        if (r < 0)
+                                log_warning_errno(r, "/etc/hosts:%u: Failed to check the validity of hostname \"%s\", ignoring: %m", nr, name);
+                        else
+                                log_warning("/etc/hosts:%u: hostname \"%s\" is not valid, ignoring.", nr, name);
                         continue;
                 }
 
