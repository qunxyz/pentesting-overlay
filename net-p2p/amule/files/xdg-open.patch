diff -uNr aMule-2.3.2-ori/amule.desktop aMule-2.3.2/amule.desktop
--- aMule-2.3.2-ori/amule.desktop	2016-09-16 15:55:06.000000000 +0800
+++ aMule-2.3.2/amule.desktop	2018-07-27 14:03:12.981728409 +0800
@@ -1,6 +1,6 @@
 [Desktop Entry]
 Name=aMule
-Exec=amule
+Exec=amule %u
 Icon=amule
 Terminal=false
 Type=Application
@@ -8,3 +8,5 @@
 Comment=A client for the eD2k network
 Comment[fr]=Un client pour le réseau eD2k
 Comment[tr]=eD2k ağı için istemci
+MimeType=x-scheme-handler/ed2k
+x-scheme-handler/ed2k=amule.desktop
diff -uNr aMule-2.3.2-ori/amulegui.desktop aMule-2.3.2/amulegui.desktop
--- aMule-2.3.2-ori/amulegui.desktop	2016-09-16 15:55:06.000000000 +0800
+++ aMule-2.3.2/amulegui.desktop	2018-07-27 14:03:56.954305506 +0800
@@ -1,6 +1,6 @@
 [Desktop Entry]
 Name=aMuleGUI
-Exec=amulegui
+Exec=amulegui %u
 Icon=amulegui
 Terminal=false
 Type=Application
@@ -10,3 +10,5 @@
 Comment[fr]=Contrôle à distance d'aMule
 Comment[hu]=aMule távoli vezérlő
 Comment[tr]=aMule uzaktan kumandası
+MimeType=x-scheme-handler/ed2k
+x-scheme-handler/ed2k=amulegui.desktop
