# Copyright 1999-2017 Gentoo Foundation
# Distributed under the terms of the GNU General Public License v2

EAPI=6

DESCRIPTION="Manage active terminal"
HOMEPAGE="https://github.com/qunxyz/eselect-terminal"
SRC_URI="https://github.com/qunxyz/eselect-terminal/archive/${PV}.tar.gz -> terminal.eselect-${PV}.tar.gz"

LICENSE="GPL-2+"
SLOT="0"
KEYWORDS="-* ~amd64 ~x86"
IUSE=""

RDEPEND="app-admin/eselect
	dev-util/desktop-file-utils
	x11-terms/gnome-terminal"

S=${WORKDIR}

src_install() {
	keepdir /etc/eselect/terminal

	insinto /usr/share/eselect/modules
	newins "${DISTDIR}"/terminal.eselect-${PV} terminal.eselect
}

pkg_postinst() {
	eselect terminal update --if-unset
}