diff -uNr gnome-online-accounts-3.22.5-ori/src/goabackend/goaewsclient.c gnome-online-accounts-3.22.5/src/goabackend/goaewsclient.c
--- gnome-online-accounts-3.22.5-ori/src/goabackend/goaewsclient.c	2017-03-11 01:28:32.000000000 +0800
+++ gnome-online-accounts-3.22.5/src/goabackend/goaewsclient.c	2017-09-18 19:13:57.402300246 +0800
@@ -498,6 +498,7 @@
   data->session = soup_session_new_with_options (SOUP_SESSION_SSL_STRICT, FALSE,
                                                  NULL);
   soup_session_add_feature_by_type (data->session, SOUP_TYPE_AUTH_NTLM);
+  soup_session_add_feature_by_type (data->session, SOUP_TYPE_PROXY_RESOLVER_GNOME);
   data->accept_ssl_errors = accept_ssl_errors;
 
   if (cancellable != NULL)
