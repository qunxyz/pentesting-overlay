# Copyright 1999-2016 Gentoo Foundation
# Distributed under the terms of the GNU General Public License v2
# $Id$

EAPI=5

PYTHON_COMPAT=( python3_{5,6} )

inherit pip-r1

PY_PN="BuildStream"
PY_PV="${PV}"

DESCRIPTION="BuildStream is a Free Software tool for building/integrating software stacks."
HOMEPAGE="https://buildstream.gitlab.io/buildstream/index.html"
pip-r1_init_pkg_fetch

LICENSE="GPLv2"
SLOT="0"
KEYWORDS="~x86 ~amd64"
IUSE="bzr git +ostree +patch +tar +ssh"

RDEPEND="
    dev-python/jinja
    dev-python/blessings
    dev-python/ruamel-yaml
    dev-python/pytest-runner
    app-arch/lzip
    >=sys-apps/bubblewrap-0.1.2
    sys-fs/fuse
    >=dev-lang/python-3.5
    bzr? ( dev-vcs/bzr )
    git? ( dev-vcs/git )
    ostree? ( dev-util/ostree )
    patch? ( sys-devel/patch )
    tar? ( app-arch/tar )
    ssh? ( net-misc/openssh )
"

DEPEND="${RDEPEND}"
