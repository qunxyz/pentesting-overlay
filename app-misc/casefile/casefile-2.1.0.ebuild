# Copyright 1999-2016 Gentoo Foundation
# Distributed under the terms of the GNU General Public License v2
# $Id$

EAPI=5

inherit eutils

DESCRIPTION="CaseFile is the little brother to Maltego. It targets a unique market of 'offline' analysts whose primary sources of information are not gained from the open-source intelligence side or can be programmatically queried. "
HOMEPAGE="https://www.paterva.com"
SRC_URI="https://www.paterva.com/cf210/community/MaltegoCFCE21-2015-05-09.zip"

LICENSE="GPL-3"
SLOT="0"
KEYWORDS="~amd64 ~x86"
IUSE=""

DEPEND=""
RDEPEND="virtual/jre"

S="${WORKDIR}/v2.1.0"

src_install () {
	dodir /usr/share/${PN}/

	cp -R * "${ED}"/usr/share/${PN}/
	newbin "${FILESDIR}"/casefile.sh $PN

	# make_desktop_entry casefile "CaseFile" casefile 'Application;Network;Security;'
	insinto /usr/share/applications
	doins "${FILESDIR}"/casefile.desktop || \
		die "cannot copy .desktop file"
}
