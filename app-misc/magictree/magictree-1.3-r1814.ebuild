# Copyright 1999-2014 Gentoo Foundation
# Distributed under the terms of the GNU General Public License v2
# $Header: $

EAPI=5

inherit eutils multilib

DESCRIPTION="MagicTree is a penetration tester productivity tool. It is designed to allow easy and straightforward data consolidation, querying, external command execution and (yeah!) report generation."
HOMEPAGE="http://www.gremwell.com/"
SRC_URI="https://raw.githubusercontent.com/qunxyz/pentesting-overlay/master/app-misc/magictree/files/magictree-1.3-build1814.tar.gz"

LICENSE="BSD"
SLOT="0"
KEYWORDS="~amd64 ~x86"
IUSE=""

DEPEND=""
RDEPEND="net-analyzer/nmap
	virtual/jre"

src_install() {
	dodir /usr/share/${PN}/

	cp -R * "${ED}"/usr/share/${PN}/
	newbin "${FILESDIR}"/magictree.sh $PN

	# make_desktop_entry magictree "MagicTree" magictree 'Application;Network;Security;'
	insinto /usr/share/applications
	doins "${FILESDIR}"/magictree.desktop || \
		die "cannot copy .desktop file"
}